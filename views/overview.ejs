<!-- views/overview.ejs -->
<%- include('partials/header') %>

<h1>Player Overview</h1>

<div class="controls">
    <form class="sort-form" action="/overview" method="get" id="sortForm">
        <label for="sortAttribute">Sort by:</label>
        <select name="sortAttribute" id="sortAttribute" onchange="sortPlayers()">
            <option value="name">Name</option>
            <option value="age">Age</option>
            <option value="position">Position</option>
            <option value="nationality">Nationality</option>
            <option value="overallRating">Overall Rating</option>
        </select>
        <label for="sortOrder">Order:</label>
        <select name="sortOrder" id="sortOrder">
            <option value="asc">Ascending</option>
            <option value="desc">Descending</option>
        </select>
        <button type="submit">Click here to sort</button>
    </form>

    <form class="search-form">
        <input type="text" id="searchInput" onkeyup="filterPlayers()" placeholder="Search for players...">
    </form>
</div>

<table id="playersTable">
    <thead>
        <tr>
            <th>Name</th>
            <th>Age</th>
            <th>Position</th>
            <th>Nationality</th>
            <th>Overall Rating</th>
            <th>Active</th>
            <th>Club</th>
            <th>League</th>
        </tr>
    </thead>
    <tbody>
        <% players.forEach(player => { %>
            <tr>
                <td><a href="/detail/<%= player.id %>"><%= player.name %></a></td>
                <td><%= player.age %></td>
                <td><%= player.position %></td>
                <td><%= player.nationality %></td>
                <td><%= player.overallRating %></td>
                <td><%= player.isActive %></td>
                <td><%= player.club.name %></td>
                <td><%= player.club.league %></td>
            </tr>
        <% }); %>
    </tbody>
</table>
<%- include('partials/footer') %>
